<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_172) on Mon May 06 19:31:17 PDT 2019 -->
<title>DbxPKCEWebAuth (Official Dropbox Java SDK 3.1.0 API)</title>
<meta name="date" content="2019-05-06">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DbxPKCEWebAuth (Official Dropbox Java SDK 3.1.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/dropbox/core/DbxOAuth1Upgrader.html" title="class in com.dropbox.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/dropbox/core/DbxRequestConfig.html" title="class in com.dropbox.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/dropbox/core/DbxPKCEWebAuth.html" target="_top">Frames</a></li>
<li><a href="DbxPKCEWebAuth.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.dropbox.core</div>
<h2 title="Class DbxPKCEWebAuth" class="title">Class DbxPKCEWebAuth</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.dropbox.core.DbxPKCEWebAuth</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">DbxPKCEWebAuth</span>
extends java.lang.Object</pre>
<div class="block"><b>Beta</b>: This feature is not available to all developers. Please do NOT use it unless you are
 early access partner of this feature. The function signature is subjected to change
 in next minor version release.

 This class does the OAuth2 "authorization code" flow with Proof Key for Code Exchange(PKCE).

 PKCE allows "authorization code" flow without "client_secret". It enables "native
 application", which is ensafe to hardcode client_secret in code, to use "authorization
 code". If you application has a server, please use regular <a href="../../../com/dropbox/core/DbxWebAuth.html" title="class in com.dropbox.core"><code>DbxWebAuth</code></a> instead.

 PKCE is more secure than "token" flow. If authorization code is compromised during
 transmission, it can't be used to exchange for access token without random generated
 code_verifier, which is stored inside SDK.

 DbxPKCEWebAuth and <a href="../../../com/dropbox/core/DbxWebAuth.html" title="class in com.dropbox.core"><code>DbxWebAuth</code></a> has the same interface and slightly different behavior:
 <ol>
     <li>The constructor should take <a href="../../../com/dropbox/core/DbxAppInfo.html" title="class in com.dropbox.core"><code>DbxAppInfo</code></a> without app secret.</li>
     <li>Two step of OAuth2: <a href="../../../com/dropbox/core/DbxPKCEWebAuth.html#authorize-com.dropbox.core.DbxWebAuth.Request-"><code>authorize(DbxWebAuth.Request)</code></a> and
     <a href="../../../com/dropbox/core/DbxPKCEWebAuth.html#finishFromRedirect-java.lang.String-com.dropbox.core.DbxSessionStore-java.util.Map-"><code>finishFromRedirect(String, DbxSessionStore, Map)</code></a>, should be called on the same
     object.</li>
 </ol></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="https://tools.ietf.org/html/rfc7636">https://tools.ietf.org/html/rfc7636</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/dropbox/core/DbxPKCEWebAuth.html#DbxPKCEWebAuth-com.dropbox.core.DbxRequestConfig-com.dropbox.core.DbxAppInfo-">DbxPKCEWebAuth</a></span>(<a href="../../../com/dropbox/core/DbxRequestConfig.html" title="class in com.dropbox.core">DbxRequestConfig</a>&nbsp;requestConfig,
              <a href="../../../com/dropbox/core/DbxAppInfo.html" title="class in com.dropbox.core">DbxAppInfo</a>&nbsp;appInfo)</code>
<div class="block">Creates a new instance that will perform the OAuth2 PKCE authorization flow using the given
 OAuth request configuration.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dropbox/core/DbxPKCEWebAuth.html#authorize-com.dropbox.core.DbxWebAuth.Request-">authorize</a></span>(<a href="../../../com/dropbox/core/DbxWebAuth.Request.html" title="class in com.dropbox.core">DbxWebAuth.Request</a>&nbsp;request)</code>
<div class="block">Starts authorization and returns an "authorization URL" on the Dropbox website that let
 the user grant your app access to their Dropbox account.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../com/dropbox/core/DbxAuthFinish.html" title="class in com.dropbox.core">DbxAuthFinish</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dropbox/core/DbxPKCEWebAuth.html#finishFromCode-java.lang.String-">finishFromCode</a></span>(java.lang.String&nbsp;code)</code>
<div class="block">Call this after the user has visited the authorizaton URL and copy/pasted the authorization
 code that Dropbox gave them, with the SAME <a href="../../../com/dropbox/core/DbxPKCEWebAuth.html" title="class in com.dropbox.core"><code>DbxPKCEWebAuth</code></a> instance that generated
 the authorization URL.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../com/dropbox/core/DbxAuthFinish.html" title="class in com.dropbox.core">DbxAuthFinish</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/dropbox/core/DbxPKCEWebAuth.html#finishFromRedirect-java.lang.String-com.dropbox.core.DbxSessionStore-java.util.Map-">finishFromRedirect</a></span>(java.lang.String&nbsp;redirectUri,
                  <a href="../../../com/dropbox/core/DbxSessionStore.html" title="interface in com.dropbox.core">DbxSessionStore</a>&nbsp;sessionStore,
                  java.util.Map&lt;java.lang.String,java.lang.String[]&gt;&nbsp;params)</code>
<div class="block">Call this after the user has visited the authorizaton URL and Dropbox has redirected them
 back to your native app, with the SAME <a href="../../../com/dropbox/core/DbxPKCEWebAuth.html" title="class in com.dropbox.core"><code>DbxPKCEWebAuth</code></a> instance that generated
 the authorization URL.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DbxPKCEWebAuth-com.dropbox.core.DbxRequestConfig-com.dropbox.core.DbxAppInfo-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DbxPKCEWebAuth</h4>
<pre>public&nbsp;DbxPKCEWebAuth(<a href="../../../com/dropbox/core/DbxRequestConfig.html" title="class in com.dropbox.core">DbxRequestConfig</a>&nbsp;requestConfig,
                      <a href="../../../com/dropbox/core/DbxAppInfo.html" title="class in com.dropbox.core">DbxAppInfo</a>&nbsp;appInfo)</pre>
<div class="block">Creates a new instance that will perform the OAuth2 PKCE authorization flow using the given
 OAuth request configuration.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requestConfig</code> - HTTP request configuration, never <code>null</code>.</dd>
<dd><code>appInfo</code> - Your application's Dropbox API information (the app key), never <code>null</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if appInfo contains app secret.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="authorize-com.dropbox.core.DbxWebAuth.Request-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authorize</h4>
<pre>public&nbsp;java.lang.String&nbsp;authorize(<a href="../../../com/dropbox/core/DbxWebAuth.Request.html" title="class in com.dropbox.core">DbxWebAuth.Request</a>&nbsp;request)</pre>
<div class="block">Starts authorization and returns an "authorization URL" on the Dropbox website that let
 the user grant your app access to their Dropbox account.

 <p> If a redirect URI was specified (<a href="../../../com/dropbox/core/DbxWebAuth.Request.Builder.html#withRedirectUri-java.lang.String-com.dropbox.core.DbxSessionStore-"><code>DbxWebAuth.Request.Builder.withRedirectUri(java.lang.String, com.dropbox.core.DbxSessionStore)</code></a>). The
 redirect URI should bring user back to your app on end device. Call <a href="../../../com/dropbox/core/DbxPKCEWebAuth.html#finishFromRedirect-java.lang.String-com.dropbox.core.DbxSessionStore-java.util.Map-"><code>finishFromRedirect(java.lang.String, com.dropbox.core.DbxSessionStore, java.util.Map&lt;java.lang.String, java.lang.String[]&gt;)</code></a> using the same <a href="../../../com/dropbox/core/DbxPKCEWebAuth.html" title="class in com.dropbox.core"><code>DbxPKCEWebAuth</code></a> instance with the query
 parameters received from the redirect.

 <p> If no redirect URI was specified (<a href="../../../com/dropbox/core/DbxWebAuth.Request.Builder.html#withNoRedirect--"><code>DbxWebAuth.Request.Builder.withNoRedirect()</code></a>),
 then users who grant access will be shown an "authorization code". The user must copy/paste the
 authorization code back into your app, at which point you can call <a href="../../../com/dropbox/core/DbxPKCEWebAuth.html#finishFromCode-java.lang.String-"><code>finishFromCode(String)</code></a> with the same <a href="../../../com/dropbox/core/DbxPKCEWebAuth.html" title="class in com.dropbox.core"><code>DbxPKCEWebAuth</code></a> instance from to get an access
 token.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - OAuth 2.0 web-based authorization flow request configuration</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Authorization URL of website user can use to authorize your app.</dd>
</dl>
</li>
</ul>
<a name="finishFromCode-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishFromCode</h4>
<pre>public&nbsp;<a href="../../../com/dropbox/core/DbxAuthFinish.html" title="class in com.dropbox.core">DbxAuthFinish</a>&nbsp;finishFromCode(java.lang.String&nbsp;code)
                             throws <a href="../../../com/dropbox/core/DbxException.html" title="class in com.dropbox.core">DbxException</a></pre>
<div class="block">Call this after the user has visited the authorizaton URL and copy/pasted the authorization
 code that Dropbox gave them, with the SAME <a href="../../../com/dropbox/core/DbxPKCEWebAuth.html" title="class in com.dropbox.core"><code>DbxPKCEWebAuth</code></a> instance that generated
 the authorization URL.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/dropbox/core/DbxException.html" title="class in com.dropbox.core">DbxException</a></code> - if the instance is not the same one used to generate authorization
 URL, or if an error occurs communicating with Dropbox.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../com/dropbox/core/DbxWebAuth.html#finishFromCode-java.lang.String-"><code>DbxWebAuth.finishFromCode(String)</code></a></dd>
</dl>
</li>
</ul>
<a name="finishFromRedirect-java.lang.String-com.dropbox.core.DbxSessionStore-java.util.Map-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>finishFromRedirect</h4>
<pre>public&nbsp;<a href="../../../com/dropbox/core/DbxAuthFinish.html" title="class in com.dropbox.core">DbxAuthFinish</a>&nbsp;finishFromRedirect(java.lang.String&nbsp;redirectUri,
                                        <a href="../../../com/dropbox/core/DbxSessionStore.html" title="interface in com.dropbox.core">DbxSessionStore</a>&nbsp;sessionStore,
                                        java.util.Map&lt;java.lang.String,java.lang.String[]&gt;&nbsp;params)
                                 throws <a href="../../../com/dropbox/core/DbxException.html" title="class in com.dropbox.core">DbxException</a>,
                                        <a href="../../../com/dropbox/core/DbxWebAuth.BadRequestException.html" title="class in com.dropbox.core">DbxWebAuth.BadRequestException</a>,
                                        <a href="../../../com/dropbox/core/DbxWebAuth.BadStateException.html" title="class in com.dropbox.core">DbxWebAuth.BadStateException</a>,
                                        <a href="../../../com/dropbox/core/DbxWebAuth.CsrfException.html" title="class in com.dropbox.core">DbxWebAuth.CsrfException</a>,
                                        <a href="../../../com/dropbox/core/DbxWebAuth.NotApprovedException.html" title="class in com.dropbox.core">DbxWebAuth.NotApprovedException</a>,
                                        <a href="../../../com/dropbox/core/DbxWebAuth.ProviderException.html" title="class in com.dropbox.core">DbxWebAuth.ProviderException</a></pre>
<div class="block">Call this after the user has visited the authorizaton URL and Dropbox has redirected them
 back to your native app, with the SAME <a href="../../../com/dropbox/core/DbxPKCEWebAuth.html" title="class in com.dropbox.core"><code>DbxPKCEWebAuth</code></a> instance that generated
 the authorization URL.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/dropbox/core/BadRequestException.html" title="class in com.dropbox.core">BadRequestException</a></code> - If the redirect request is missing required query parameters,
 contains duplicate parameters, or includes mutually exclusive parameters (e.g. <code>"error"</code> and <code>"code"</code>).</dd>
<dd><code><a href="../../../com/dropbox/core/DbxWebAuth.BadStateException.html" title="class in com.dropbox.core">DbxWebAuth.BadStateException</a></code> - If the CSRF token retrieved from <code>sessionStore</code>
 is <code>null</code> or malformed.</dd>
<dd><code><a href="../../../com/dropbox/core/DbxWebAuth.CsrfException.html" title="class in com.dropbox.core">DbxWebAuth.CsrfException</a></code> - If the CSRF token passed in <code>params</code> does not match
 the CSRF token from <code>sessionStore</code>. This implies the redirect request may be forged.</dd>
<dd><code><a href="../../../com/dropbox/core/DbxWebAuth.NotApprovedException.html" title="class in com.dropbox.core">DbxWebAuth.NotApprovedException</a></code> - If the user chose to deny the authorization request.</dd>
<dd><code><a href="../../../com/dropbox/core/DbxWebAuth.ProviderException.html" title="class in com.dropbox.core">DbxWebAuth.ProviderException</a></code> - If an OAuth2 error response besides <code>"access_denied"</code> is set.</dd>
<dd><code><a href="../../../com/dropbox/core/DbxException.html" title="class in com.dropbox.core">DbxException</a></code> - if the instance is not the same one used to generate authorization
 URL, or if an error occurs communicating with Dropbox.</dd>
<dd><code><a href="../../../com/dropbox/core/DbxWebAuth.BadRequestException.html" title="class in com.dropbox.core">DbxWebAuth.BadRequestException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/dropbox/core/DbxOAuth1Upgrader.html" title="class in com.dropbox.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/dropbox/core/DbxRequestConfig.html" title="class in com.dropbox.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/dropbox/core/DbxPKCEWebAuth.html" target="_top">Frames</a></li>
<li><a href="DbxPKCEWebAuth.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
